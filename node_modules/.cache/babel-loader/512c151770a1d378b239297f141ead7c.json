{"ast":null,"code":"import _slicedToArray from\"/Users/amine/Documents/Practices/Sir_vote_a_lot/PollApp/client/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import Button from'../FormInput/Button/Button';import LabelWithButton from'../FormInput/LabelWithButton/LabelWithButton';import OptionList from'../FormInput/OptionList/OptionList';import{useSelector,useDispatch}from'react-redux';import{VOTING_ACTION}from\"../../store/Polls/pollActions\";import Empty from'../FormInput/Empty/Empty';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Poll(props){var _useSelector=useSelector(function(state){return state.Poll;}),poll_question_options=_useSelector.poll_question_options,poll_main_question=_useSelector.poll_main_question;// dispatch\nvar dispatch=useDispatch();useEffect(function(){},[poll_main_question]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),selectedAnswer=_useState2[0],setSelectedAnswer=_useState2[1];return/*#__PURE__*/_jsxs(\"section\",{className:\"Section\",children:[poll_question_options.length<2?/*#__PURE__*/_jsx(\"div\",{className:\"SubSection\",children:/*#__PURE__*/_jsx(Empty,{imgSrc:\"./icons/emptyPoll.png\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"SubSection\",children:[/*#__PURE__*/_jsx(\"h1\",{children:poll_main_question}),/*#__PURE__*/_jsx(\"div\",{className:\"PollQuestionContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"PollQuestion\",children:poll_question_options.map(function(poll,ind){return poll.answer!=\"\"&&/*#__PURE__*/_jsx(OptionList,{onClick:function onClick(){setSelectedAnswer(String(poll.id));},id:\"Radio\"+ind,name:\"option\",value:poll.answer,type:\"Radio\"},poll.id);})})})]}),poll_question_options.length>=2&&/*#__PURE__*/_jsx(LabelWithButton,{style:{justifyContent:\"flex-end\"},children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){dispatch(VOTING_ACTION(selectedAnswer));},style:{minWidth:\"80px\",height:\"40px\"},text:\"Vote\"})})]});}export default Poll;","map":{"version":3,"names":["React","useEffect","useState","Button","LabelWithButton","OptionList","useSelector","useDispatch","VOTING_ACTION","Empty","Poll","props","state","poll_question_options","poll_main_question","dispatch","selectedAnswer","setSelectedAnswer","length","map","poll","ind","answer","String","id","justifyContent","minWidth","height"],"sources":["/Users/amine/Documents/Practices/Sir_vote_a_lot/PollApp/client/my-app/src/components/Poll/Poll.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Button from '../FormInput/Button/Button';\nimport LabelWithButton from '../FormInput/LabelWithButton/LabelWithButton';\nimport OptionList from '../FormInput/OptionList/OptionList';\n\nimport { IPollQuestionOptions } from '../../@types/poll.d';\n\nimport { RootState } from '../../store/Store';\nimport { useSelector , useDispatch } from 'react-redux';\n\nimport { VOTING_ACTION } from \"../../store/Polls/pollActions\";\nimport Empty from '../FormInput/Empty/Empty';\n\ninterface IProps{}\n\nfunction Poll(props:IProps) {\n\n  const {poll_question_options, poll_main_question} = useSelector((state:RootState) => (state.Poll));\n\n  // dispatch\n  const dispatch = useDispatch();\n\n  useEffect(()=>{\n    \n  },[poll_main_question]);\n\n  const [selectedAnswer,setSelectedAnswer] = useState<string>(\"\");\n\n  return (\n    <section className='Section'>\n\n      {\n          (poll_question_options.length < 2 )  ?\n              <div className='SubSection'>\n                <Empty imgSrc={\"./icons/emptyPoll.png\"} /> \n              </div>\n          : \n\n          <div className='SubSection'>\n\n            <h1>{poll_main_question}</h1>\n\n            <div className='PollQuestionContainer'>\n\n              <div className='PollQuestion'>\n                  {\n                    poll_question_options.map((poll:IPollQuestionOptions,ind:IPollQuestionOptions[\"id\"])=>{\n                      return( poll.answer!= \"\" && <OptionList onClick={()=>{ setSelectedAnswer(String(poll.id))}} \n                        key={poll.id} id={\"Radio\"+ind} name=\"option\" value={poll.answer} type=\"Radio\"/>\n                      )\n                    })\n                  }\n              </div>\n\n            </div>\n\n          </div>\n\n      }\n      {\n          poll_question_options.length >= 2  && <LabelWithButton style={{justifyContent:\"flex-end\"}}>\n                        <Button onClick={()=>{dispatch(VOTING_ACTION(selectedAnswer))}} style={{minWidth:\"80px\",height:\"40px\"}} text=\"Vote\"/>\n                </LabelWithButton>\n      }\n    </section>\n  )\n}\n\nexport default Poll;"],"mappings":"2JAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,MAAOC,gBAAP,KAA4B,8CAA5B,CACA,MAAOC,WAAP,KAAuB,oCAAvB,CAKA,OAASC,WAAT,CAAuBC,WAAvB,KAA0C,aAA1C,CAEA,OAASC,aAAT,KAA8B,+BAA9B,CACA,MAAOC,MAAP,KAAkB,0BAAlB,C,wFAIA,QAASC,KAAT,CAAcC,KAAd,CAA4B,CAE1B,iBAAoDL,WAAW,CAAC,SAACM,KAAD,QAAsBA,MAAK,CAACF,IAA5B,EAAD,CAA/D,CAAOG,qBAAP,cAAOA,qBAAP,CAA8BC,kBAA9B,cAA8BA,kBAA9B,CAEA;AACA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CAEAN,SAAS,CAAC,UAAI,CAEb,CAFQ,CAEP,CAACa,kBAAD,CAFO,CAAT,CAIA,cAA2CZ,QAAQ,CAAS,EAAT,CAAnD,wCAAOc,cAAP,eAAsBC,iBAAtB,eAEA,mBACE,iBAAS,SAAS,CAAC,SAAnB,WAGOJ,qBAAqB,CAACK,MAAtB,CAA+B,CAAhC,cACI,YAAK,SAAS,CAAC,YAAf,uBACE,KAAC,KAAD,EAAO,MAAM,CAAE,uBAAf,EADF,EADJ,cAMA,aAAK,SAAS,CAAC,YAAf,wBAEE,oBAAKJ,kBAAL,EAFF,cAIE,YAAK,SAAS,CAAC,uBAAf,uBAEE,YAAK,SAAS,CAAC,cAAf,UAEMD,qBAAqB,CAACM,GAAtB,CAA0B,SAACC,IAAD,CAA2BC,GAA3B,CAA4D,CACpF,MAAQD,KAAI,CAACE,MAAL,EAAc,EAAd,eAAoB,KAAC,UAAD,EAAY,OAAO,CAAE,kBAAI,CAAEL,iBAAiB,CAACM,MAAM,CAACH,IAAI,CAACI,EAAN,CAAP,CAAjB,CAAmC,CAA9D,CACZ,EAAE,CAAE,QAAQH,GADA,CACK,IAAI,CAAC,QADV,CACmB,KAAK,CAAED,IAAI,CAACE,MAD/B,CACuC,IAAI,CAAC,OAD5C,EACrBF,IAAI,CAACI,EADgB,CAA5B,CAGD,CAJD,CAFN,EAFF,EAJF,GATN,CA+BMX,qBAAqB,CAACK,MAAtB,EAAgC,CAAhC,eAAsC,KAAC,eAAD,EAAiB,KAAK,CAAE,CAACO,cAAc,CAAC,UAAhB,CAAxB,uBACxB,KAAC,MAAD,EAAQ,OAAO,CAAE,kBAAI,CAACV,QAAQ,CAACP,aAAa,CAACQ,cAAD,CAAd,CAAR,CAAwC,CAA9D,CAAgE,KAAK,CAAE,CAACU,QAAQ,CAAC,MAAV,CAAiBC,MAAM,CAAC,MAAxB,CAAvE,CAAwG,IAAI,CAAC,MAA7G,EADwB,EA/B5C,GADF,CAsCD,CAED,cAAejB,KAAf"},"metadata":{},"sourceType":"module"}