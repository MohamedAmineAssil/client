{"ast":null,"code":"var _jsxFileName = \"/Users/amine/Documents/Practices/Sir_vote_a_lot/PollApp/client/my-app/src/components/PollResult/PollResult.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport Label from '../FormInput/Label/Label';\nimport LabelWithButton from '../FormInput/LabelWithButton/LabelWithButton';\nimport { Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\nimport { useSelector } from 'react-redux';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Tooltip } from 'chart.js';\nimport Empty from '../FormInput/Empty/Empty';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// Register ChartJs\nChartJS.register(CategoryScale, LinearScale, BarElement, Tooltip, ChartDataLabels);\n\nconst PollResult = props => {\n  _s();\n\n  // useSelectot\n  const {\n    poll_question_options,\n    poll_main_question,\n    connected_role\n  } = useSelector(state => state.Poll);\n  useEffect(() => {}, []); // generate label array\n\n  const dynamicLabels = () => {\n    return poll_question_options.map((poll, ind) => {\n      return poll.answer;\n    });\n  }; // generate vote rates array\n\n\n  const dynamicVotes = () => {\n    return poll_question_options.map((poll, ind) => {\n      return poll.votes;\n    });\n  }; // generate random colors\n\n\n  const colorPicker = () => {\n    const colorsPalette = ['#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6', '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D', '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A', '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC', '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC', '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399', '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680', '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933', '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3', '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];\n    return poll_question_options.map((poll, ind) => {\n      return colorsPalette[ind];\n    });\n  }; // generate vote rates array\n\n\n  const totalVotes = () => {\n    return poll_question_options.reduce((acc, poll) => {\n      return acc + poll.votes;\n    }, 0);\n  }; // ChartJs display options\n\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top'\n      },\n      title: {\n        display: true,\n        text: 'Chart.js Bar Chart'\n      }\n    },\n    scales: {\n      y: {\n        grace: '5%'\n      }\n    }\n  }; // ChartJs display labels\n\n  const labels = dynamicLabels(); // ChartJs data\n\n  const data = {\n    labels,\n    datasets: [{\n      data: dynamicVotes(),\n      backgroundColor: colorPicker(),\n      datalabels: {\n        align: 'end',\n        anchor: 'end',\n        formatter: function (value, ctx) {\n          return value;\n        },\n        color: 'black',\n        font: {\n          size: 14,\n          weight: 500\n        }\n      }\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"Section\",\n    style: connected_role == \"User\" ? {\n      maxWidth: \"600px\",\n      margin: \"0px auto\"\n    } : {},\n    children: [poll_question_options.length < 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"SubSection SubSectionCenter\",\n      children: /*#__PURE__*/_jsxDEV(Empty, {\n        imgSrc: \"./icons/emptyChart.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"SubSection SubSectionCenter\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: poll_main_question\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"PollQuestionContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"PollQuestion\",\n          children: /*#__PURE__*/_jsxDEV(Bar, {\n            options: options,\n            data: data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }, this), poll_question_options.length >= 2 && /*#__PURE__*/_jsxDEV(LabelWithButton, {\n      style: {},\n      children: /*#__PURE__*/_jsxDEV(Label, {\n        style: {\n          marginRight: \"15px\"\n        },\n        content: `Total votes : ${totalVotes()}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 50\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PollResult, \"F3UFBJSg+5npOlxJU7wMaryWY+s=\", false, function () {\n  return [useSelector];\n});\n\n_c = PollResult;\nexport default PollResult;\n\nvar _c;\n\n$RefreshReg$(_c, \"PollResult\");","map":{"version":3,"names":["React","useEffect","Label","LabelWithButton","Bar","ChartDataLabels","useSelector","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Tooltip","Empty","register","PollResult","props","poll_question_options","poll_main_question","connected_role","state","Poll","dynamicLabels","map","poll","ind","answer","dynamicVotes","votes","colorPicker","colorsPalette","totalVotes","reduce","acc","options","responsive","plugins","legend","position","title","display","text","scales","y","grace","labels","data","datasets","backgroundColor","datalabels","align","anchor","formatter","value","ctx","color","font","size","weight","maxWidth","margin","length","marginRight"],"sources":["/Users/amine/Documents/Practices/Sir_vote_a_lot/PollApp/client/my-app/src/components/PollResult/PollResult.tsx"],"sourcesContent":["import React ,{ useState , useEffect } from 'react';\nimport Label from '../FormInput/Label/Label';\nimport LabelWithButton from '../FormInput/LabelWithButton/LabelWithButton';\nimport { Bar } from 'react-chartjs-2';\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\n\nimport { useSelector} from 'react-redux';\n\n\nimport { RootState } from '../../store/Store';\n\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Tooltip\n} from 'chart.js';\nimport Empty from '../FormInput/Empty/Empty';\nimport { IPollQuestionOptions } from '../../@types/poll.d';\n\ninterface IProps{}\n\n// Register ChartJs\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  Tooltip,\n  ChartDataLabels\n);\n\nconst PollResult = (props:IProps) => {\n\n  // useSelectot\n  const {poll_question_options, poll_main_question, connected_role} = useSelector((state:RootState) => (state.Poll));\n\n  useEffect(()=>{\n  },[]);\n\n  // generate label array\n  const dynamicLabels = () =>{\n    return(poll_question_options.map((poll:IPollQuestionOptions,ind:IPollQuestionOptions[\"id\"])=>{\n        return poll.answer;\n    }));\n  }\n\n  // generate vote rates array\n  const dynamicVotes = () =>{\n    return(poll_question_options.map((poll:IPollQuestionOptions,ind:IPollQuestionOptions[\"id\"])=>{\n        return poll.votes;\n    }));\n  }\n\n  // generate random colors\n  const colorPicker = () =>{\n    const colorsPalette = ['#FF6633', '#FFB399', '#FF33FF', '#FFFF99', '#00B3E6', \n    '#E6B333', '#3366E6', '#999966', '#99FF99', '#B34D4D',\n    '#80B300', '#809900', '#E6B3B3', '#6680B3', '#66991A', \n    '#FF99E6', '#CCFF1A', '#FF1A66', '#E6331A', '#33FFCC',\n    '#66994D', '#B366CC', '#4D8000', '#B33300', '#CC80CC', \n    '#66664D', '#991AFF', '#E666FF', '#4DB3FF', '#1AB399',\n    '#E666B3', '#33991A', '#CC9999', '#B3B31A', '#00E680', \n    '#4D8066', '#809980', '#E6FF80', '#1AFF33', '#999933',\n    '#FF3380', '#CCCC00', '#66E64D', '#4D80CC', '#9900B3', \n    '#E64D66', '#4DB380', '#FF4D4D', '#99E6E6', '#6666FF'];\n    return(poll_question_options.map((poll:IPollQuestionOptions,ind:number)=>{\n        return colorsPalette[ind];\n    }));\n  }\n\n  // generate vote rates array\n  const totalVotes = () =>{\n    return(poll_question_options.reduce((acc:number,poll:IPollQuestionOptions)=>{\n        return acc + poll.votes\n    },0));\n  }\n\n  // ChartJs display options\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n      },\n      title: {\n        display: true,\n        text: 'Chart.js Bar Chart',\n      },\n    },\n    scales: {\n        y: {\n          grace: '5%'\n        }\n    }\n  };\n\n  // ChartJs display labels\n  const labels = dynamicLabels();\n  \n  // ChartJs data\n  const data = {\n    labels,\n    datasets: [\n      {\n        data: dynamicVotes(),\n        backgroundColor: colorPicker() ,\n        datalabels: {\n          align: 'end' as const,\n          anchor: 'end' as const,\n          formatter: function(value:string, ctx:object) {\n              return value;\n          },\n          color:'black',\n          font:{\n              size: 14,\n              weight:500\n          }\n        }\n      }\n    ]\n  };\n\n  return (\n    <section className='Section' style={(connected_role == \"User\") ? {maxWidth:\"600px\",margin:\"0px auto\"} : {}}>\n      { \n          poll_question_options.length < 2 ?\n          <div className='SubSection SubSectionCenter'>\n                <Empty imgSrc={\"./icons/emptyChart.png\"} /> \n              </div>\n            : \n      \n          <div className='SubSection SubSectionCenter'>\n\n            <h1>{poll_main_question}</h1>\n\n            <div className='PollQuestionContainer'>\n\n              <div className='PollQuestion'>\n                <Bar options={options} data={data} />\n              </div>\n\n            </div>\n\n          </div>\n      }\n      {\n          poll_question_options.length >= 2  &&  <LabelWithButton style={{}}>\n                <Label style={{marginRight:\"15px\"}} content={`Total votes : ${totalVotes()}`}/>\n          </LabelWithButton>\n      }\n    </section>\n  )\n}\n\nexport default PollResult"],"mappings":"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"},"metadata":{},"sourceType":"module"}